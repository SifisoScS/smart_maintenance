@*
    Reusable loading spinner component
    Displays a centered loading indicator with optional message
*@

<div class="loading-spinner-container">
    <div class="spinner-border @GetSizeClass()" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    @if (!string.IsNullOrEmpty(Message))
    {
        <p class="loading-message">@Message</p>
    }
</div>

<style>
    .loading-spinner-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
    }

    .spinner-border {
        border: 3px solid #e5e7eb;
        border-right-color: #4f46e5;
        border-radius: 50%;
        animation: spinner-border 0.75s linear infinite;
    }

    .spinner-sm {
        width: 1.5rem;
        height: 1.5rem;
        border-width: 2px;
    }

    .spinner-md {
        width: 2.5rem;
        height: 2.5rem;
        border-width: 3px;
    }

    .spinner-lg {
        width: 4rem;
        height: 4rem;
        border-width: 4px;
    }

    .loading-message {
        margin-top: 16px;
        color: #6b7280;
        font-size: 14px;
    }

    .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        margin: -1px;
        padding: 0;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    @@keyframes spinner-border {
        to {
            transform: rotate(360deg);
        }
    }
</style>

@code {
    [Parameter]
    public string Message { get; set; } = "Loading...";

    [Parameter]
    public string Size { get; set; } = "md"; // sm, md, lg

    private string GetSizeClass()
    {
        return Size.ToLower() switch
        {
            "sm" => "spinner-sm",
            "lg" => "spinner-lg",
            _ => "spinner-md"
        };
    }
}
